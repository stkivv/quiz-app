<app-page-bg>
  <div class="flex flex-col md:flex-row mb-6 min-h-16">
    <div class="text-black text-left font-bold text-4xl m-1 size-fit flex-grow">Dashboard</div>
    <div class="flex flex-row">
      <p class="font-bold p-4">Logged in as: {{username}}</p>
      <div class="my-2 w-20">
        <app-button [btnType]="logOutBtnType" [btnLabel]="logOutBtnLabel" (click)='handleLogOut()' />
      </div>
    </div>
  </div>
  <div class="overflow-y-scroll h-full">
    <div class="flex my-4 flex-col">
      <app-button class="w-36 mb-4 h-10" [btnType]="newQuizBtnType" [btnLabel]="newQuizBtnLabel"
        (click)='handleNewQuiz()' />
      @for(quiz of quizzes; track quiz.title) {
      <div class="bg-white p-4 flex flex-col md:flex-row my-1 w-full  border-amber-500 border rounded ">
        <div class="flex flex-col flex-grow">
          <div class="text-left font-bold">{{quiz.title}}</div>
          <div class="text-sm text-left">Description: {{quiz.description}}</div>
          <div class="text-xs text-left text-gray-600">Last edited: {{getQuizEditedTime(quiz.lastEdit)}}</div>
        </div>
        <div class="flex mt-3 justify-start">
          <app-button class="ml-4 w-20" [btnType]="hostBtnType" [btnLabel]="hostBtnLabel"
            (click)="handleHostQuiz(quiz)" />
          <app-button class="ml-4 w-20" [btnType]="editBtnType" [btnLabel]="editBtnLabel"
            (click)="handleEditQuiz(quiz)" />
          <app-button class="ml-4 w-20" [btnType]="deleteBtnType" [btnLabel]="deleteBtnLabel"
            (click)="handleDeleteQuiz(quiz)" />
        </div>
      </div>
      } @empty {
      <p class="p-8 font-bold">No quizzes created yet</p>
      }
    </div>
  </div>
</app-page-bg>
